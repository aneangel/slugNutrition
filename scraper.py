{"payload":{"allShortcutsEnabled":true,"fileTree":{"backend":{"items":[{"name":"scraper.py","path":"backend/scraper.py","contentType":"file"}],"totalCount":1},"":{"items":[{"name":"backend","path":"backend","contentType":"directory"},{"name":"public","path":"public","contentType":"directory"},{"name":"src","path":"src","contentType":"directory"},{"name":".DS_Store","path":".DS_Store","contentType":"file"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"package-lock.json","path":"package-lock.json","contentType":"file"},{"name":"package.json","path":"package.json","contentType":"file"}],"totalCount":8}},"fileTreeProcessingTime":2.402793,"foldersToFetch":[],"reducedMotionEnabled":"system","repo":{"id":746258937,"defaultBranch":"main","name":"Slugtrition","ownerLogin":"varungolusupudi","currentUserCanPush":true,"isFork":false,"isEmpty":false,"createdAt":"2024-01-21T06:47:01.000-08:00","ownerAvatar":"https://avatars.githubusercontent.com/u/54894041?v=4","public":true,"private":false,"isOrgOwned":false},"symbolsExpanded":true,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1705848422.3156369","canEdit":true,"refType":"branch","currentOid":"c052319ec77d7459173fd3654c99cf49a3bd295f"},"path":"backend/scraper.py","currentUser":{"id":54894041,"login":"varungolusupudi","userEmail":"varungolusupudi@gmail.com"},"blob":{"rawLines":["from selenium import webdriver","from selenium.webdriver.common.by import By","from selenium.webdriver.support.ui import WebDriverWait","from selenium.webdriver.support import expected_conditions as EC","","# Initialize Selenium WebDriver","driver = webdriver.Chrome()","","# URL of the UCSC nutrition page","url = 'https://nutrition.sa.ucsc.edu/'","","# Navigate to the URL","driver.get(url)","","# List of dining halls to scrape","dining_halls = ['College Nine/John R. Lewis Dining Hall', 'Cowell/Stevenson Dining Hall', 'Crown/Merrill Dining Hall', 'Porter/Kresge Dining Hall', 'Rachel Carson/Oakes Dining Hall']","","# Loop through each dining hall","for hall in dining_halls:","    try:","        print(f\"Entering {hall}...\")  # Print message when entering a dining hall","","        # Wait for the dining hall links to be loaded","        WebDriverWait(driver, 10).until(EC.presence_of_all_elements_located((By.CLASS_NAME, \"locations\")))","","        # Use XPath to find the link to the dining hall","        xpath = f\"//a[contains(text(), '{hall}')]\"","        link = WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH, xpath)))","        link.click()","","        # Wait for the nutrition calculator link to be clickable","        WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.LINK_TEXT, \"Nutrition Calculator\")))","","        # Click the nutrition calculator link","        driver.find_element(By.LINK_TEXT, \"Nutrition Calculator\").click()","","    except Exception as e:","        print(f\"An error occurred while processing {hall}: {e}\")","        driver.save_screenshot(f\"error_{hall}.png\")  # Save a screenshot for debugging","        print(\"Page Source:\", driver.page_source)  # Print page source for review","","    finally:","        print(f\"Exiting {hall}...\")  # Print message when exiting a dining hall","        # Navigate back to the main page for the next dining hall","        driver.get(url)","","# Close the WebDriver","driver.quit()"],"stylingDirectives":[[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":13,"cssClass":"pl-s1"},{"start":14,"end":20,"cssClass":"pl-k"},{"start":21,"end":30,"cssClass":"pl-s1"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":13,"cssClass":"pl-s1"},{"start":14,"end":23,"cssClass":"pl-s1"},{"start":24,"end":30,"cssClass":"pl-s1"},{"start":31,"end":33,"cssClass":"pl-s1"},{"start":34,"end":40,"cssClass":"pl-k"},{"start":41,"end":43,"cssClass":"pl-v"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":13,"cssClass":"pl-s1"},{"start":14,"end":23,"cssClass":"pl-s1"},{"start":24,"end":31,"cssClass":"pl-s1"},{"start":32,"end":34,"cssClass":"pl-s1"},{"start":35,"end":41,"cssClass":"pl-k"},{"start":42,"end":55,"cssClass":"pl-v"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":13,"cssClass":"pl-s1"},{"start":14,"end":23,"cssClass":"pl-s1"},{"start":24,"end":31,"cssClass":"pl-s1"},{"start":32,"end":38,"cssClass":"pl-k"},{"start":39,"end":58,"cssClass":"pl-s1"},{"start":59,"end":61,"cssClass":"pl-k"},{"start":62,"end":64,"cssClass":"pl-v"}],[],[{"start":0,"end":31,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-s1"},{"start":7,"end":8,"cssClass":"pl-c1"},{"start":9,"end":18,"cssClass":"pl-s1"},{"start":19,"end":25,"cssClass":"pl-v"}],[],[{"start":0,"end":32,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":5,"cssClass":"pl-c1"},{"start":6,"end":38,"cssClass":"pl-s"}],[],[{"start":0,"end":21,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-s1"},{"start":7,"end":10,"cssClass":"pl-en"},{"start":11,"end":14,"cssClass":"pl-s1"}],[],[{"start":0,"end":32,"cssClass":"pl-c"}],[{"start":0,"end":12,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":16,"end":56,"cssClass":"pl-s"},{"start":58,"end":88,"cssClass":"pl-s"},{"start":90,"end":117,"cssClass":"pl-s"},{"start":119,"end":146,"cssClass":"pl-s"},{"start":148,"end":181,"cssClass":"pl-s"}],[],[{"start":0,"end":31,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":4,"end":8,"cssClass":"pl-s1"},{"start":9,"end":11,"cssClass":"pl-c1"},{"start":12,"end":24,"cssClass":"pl-s1"}],[{"start":4,"end":7,"cssClass":"pl-k"}],[{"start":8,"end":13,"cssClass":"pl-en"},{"start":14,"end":35,"cssClass":"pl-s"},{"start":25,"end":31,"cssClass":"pl-s1"},{"start":25,"end":26,"cssClass":"pl-kos"},{"start":26,"end":30,"cssClass":"pl-s1"},{"start":30,"end":31,"cssClass":"pl-kos"},{"start":38,"end":81,"cssClass":"pl-c"}],[],[{"start":8,"end":53,"cssClass":"pl-c"}],[{"start":8,"end":21,"cssClass":"pl-v"},{"start":22,"end":28,"cssClass":"pl-s1"},{"start":30,"end":32,"cssClass":"pl-c1"},{"start":34,"end":39,"cssClass":"pl-en"},{"start":40,"end":42,"cssClass":"pl-v"},{"start":43,"end":75,"cssClass":"pl-en"},{"start":77,"end":79,"cssClass":"pl-v"},{"start":80,"end":90,"cssClass":"pl-v"},{"start":92,"end":103,"cssClass":"pl-s"}],[],[{"start":8,"end":55,"cssClass":"pl-c"}],[{"start":8,"end":13,"cssClass":"pl-s1"},{"start":14,"end":15,"cssClass":"pl-c1"},{"start":16,"end":50,"cssClass":"pl-s"},{"start":40,"end":46,"cssClass":"pl-s1"},{"start":40,"end":41,"cssClass":"pl-kos"},{"start":41,"end":45,"cssClass":"pl-s1"},{"start":45,"end":46,"cssClass":"pl-kos"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":15,"end":28,"cssClass":"pl-v"},{"start":29,"end":35,"cssClass":"pl-s1"},{"start":37,"end":39,"cssClass":"pl-c1"},{"start":41,"end":46,"cssClass":"pl-en"},{"start":47,"end":49,"cssClass":"pl-v"},{"start":50,"end":73,"cssClass":"pl-en"},{"start":75,"end":77,"cssClass":"pl-v"},{"start":78,"end":83,"cssClass":"pl-v"},{"start":85,"end":90,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":18,"cssClass":"pl-en"}],[],[{"start":8,"end":64,"cssClass":"pl-c"}],[{"start":8,"end":21,"cssClass":"pl-v"},{"start":22,"end":28,"cssClass":"pl-s1"},{"start":30,"end":32,"cssClass":"pl-c1"},{"start":34,"end":39,"cssClass":"pl-en"},{"start":40,"end":42,"cssClass":"pl-v"},{"start":43,"end":66,"cssClass":"pl-en"},{"start":68,"end":70,"cssClass":"pl-v"},{"start":71,"end":80,"cssClass":"pl-v"},{"start":82,"end":104,"cssClass":"pl-s"}],[],[{"start":8,"end":45,"cssClass":"pl-c"}],[{"start":8,"end":14,"cssClass":"pl-s1"},{"start":15,"end":27,"cssClass":"pl-en"},{"start":28,"end":30,"cssClass":"pl-v"},{"start":31,"end":40,"cssClass":"pl-v"},{"start":42,"end":64,"cssClass":"pl-s"},{"start":66,"end":71,"cssClass":"pl-en"}],[],[{"start":4,"end":10,"cssClass":"pl-k"},{"start":11,"end":20,"cssClass":"pl-v"},{"start":21,"end":23,"cssClass":"pl-k"},{"start":24,"end":25,"cssClass":"pl-s1"}],[{"start":8,"end":13,"cssClass":"pl-en"},{"start":14,"end":63,"cssClass":"pl-s"},{"start":51,"end":57,"cssClass":"pl-s1"},{"start":51,"end":52,"cssClass":"pl-kos"},{"start":52,"end":56,"cssClass":"pl-s1"},{"start":56,"end":57,"cssClass":"pl-kos"},{"start":59,"end":62,"cssClass":"pl-s1"},{"start":59,"end":60,"cssClass":"pl-kos"},{"start":60,"end":61,"cssClass":"pl-s1"},{"start":61,"end":62,"cssClass":"pl-kos"}],[{"start":8,"end":14,"cssClass":"pl-s1"},{"start":15,"end":30,"cssClass":"pl-en"},{"start":31,"end":50,"cssClass":"pl-s"},{"start":39,"end":45,"cssClass":"pl-s1"},{"start":39,"end":40,"cssClass":"pl-kos"},{"start":40,"end":44,"cssClass":"pl-s1"},{"start":44,"end":45,"cssClass":"pl-kos"},{"start":53,"end":86,"cssClass":"pl-c"}],[{"start":8,"end":13,"cssClass":"pl-en"},{"start":14,"end":28,"cssClass":"pl-s"},{"start":30,"end":36,"cssClass":"pl-s1"},{"start":37,"end":48,"cssClass":"pl-s1"},{"start":51,"end":81,"cssClass":"pl-c"}],[],[{"start":4,"end":11,"cssClass":"pl-k"}],[{"start":8,"end":13,"cssClass":"pl-en"},{"start":14,"end":34,"cssClass":"pl-s"},{"start":24,"end":30,"cssClass":"pl-s1"},{"start":24,"end":25,"cssClass":"pl-kos"},{"start":25,"end":29,"cssClass":"pl-s1"},{"start":29,"end":30,"cssClass":"pl-kos"},{"start":37,"end":79,"cssClass":"pl-c"}],[{"start":8,"end":65,"cssClass":"pl-c"}],[{"start":8,"end":14,"cssClass":"pl-s1"},{"start":15,"end":18,"cssClass":"pl-en"},{"start":19,"end":22,"cssClass":"pl-s1"}],[],[{"start":0,"end":21,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-s1"},{"start":7,"end":11,"cssClass":"pl-en"}]],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":null,"configFilePath":null,"networkDependabotPath":"/varungolusupudi/Slugtrition/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":false,"repoAlertsPath":"/varungolusupudi/Slugtrition/security/dependabot","repoSecurityAndAnalysisPath":"/varungolusupudi/Slugtrition/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":true},"displayName":"scraper.py","displayUrl":"https://github.com/varungolusupudi/Slugtrition/blob/main/backend/scraper.py?raw=true","headerInfo":{"blobSize":"1.85 KB","deleteInfo":{"deleteTooltip":"Delete this file"},"editInfo":{"editTooltip":"Edit this file"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"a310108","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fvarungolusupudi%2FSlugtrition%2Fblob%2Fmain%2Fbackend%2Fscraper.py","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"48","truncatedSloc":"36"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Python","languageID":303,"large":false,"loggedIn":true,"newDiscussionPath":"/varungolusupudi/Slugtrition/discussions/new","newIssuePath":"/varungolusupudi/Slugtrition/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/varungolusupudi/Slugtrition/blob/main/backend/scraper.py","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/varungolusupudi/Slugtrition/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"rawBlobUrl":"https://github.com/varungolusupudi/Slugtrition/raw/main/backend/scraper.py","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"varungolusupudi","repoName":"Slugtrition","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":null,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timed_out":false,"not_analyzed":false,"symbols":[{"name":"driver","kind":"constant","ident_start":229,"ident_end":235,"extent_start":229,"extent_end":256,"fully_qualified_name":"driver","ident_utf16":{"start":{"line_number":6,"utf16_col":0},"end":{"line_number":6,"utf16_col":6}},"extent_utf16":{"start":{"line_number":6,"utf16_col":0},"end":{"line_number":6,"utf16_col":27}}},{"name":"url","kind":"constant","ident_start":291,"ident_end":294,"extent_start":291,"extent_end":329,"fully_qualified_name":"url","ident_utf16":{"start":{"line_number":9,"utf16_col":0},"end":{"line_number":9,"utf16_col":3}},"extent_utf16":{"start":{"line_number":9,"utf16_col":0},"end":{"line_number":9,"utf16_col":38}}},{"name":"dining_halls","kind":"constant","ident_start":403,"ident_end":415,"extent_start":403,"extent_end":585,"fully_qualified_name":"dining_halls","ident_utf16":{"start":{"line_number":15,"utf16_col":0},"end":{"line_number":15,"utf16_col":12}},"extent_utf16":{"start":{"line_number":15,"utf16_col":0},"end":{"line_number":15,"utf16_col":182}}}]}},"copilotInfo":{"documentationUrl":"https://docs.github.com/copilot/overview-of-github-copilot/about-github-copilot-for-individuals","notices":{"codeViewPopover":{"dismissed":false,"dismissPath":"/settings/dismiss-notice/code_view_copilot_popover"}},"userAccess":{"accessAllowed":false,"hasSubscriptionEnded":false,"orgHasCFBAccess":false,"userHasCFIAccess":false,"userHasOrgs":false,"userIsOrgAdmin":false,"userIsOrgMember":false,"business":null,"featureRequestInfo":null}},"copilotAccessAllowed":false,"csrf_tokens":{"/varungolusupudi/Slugtrition/branches":{"post":"zIn_VaDF3htPeX400I4AwoTkAV1SvWpN9rS9NaBkpIhYMzFvA3LkX-llGEq8-jV0m37AbV5FGTXD52FYun-CSg"},"/repos/preferences":{"post":"Cgamw0nQLdxnS_Adnt8E25MLgmFSpYE4iC6ep2f2Z0arXXCfj4JGk5JWVpnWoj7AWEKVyHjgcYzoaSVSmwwsfw"}}},"title":"Slugtrition/backend/scraper.py at main Â· varungolusupudi/Slugtrition"}